# -- Aliases -- #
fixssh() {
    for key in SSH_AUTH_SOCK SSH_CONNECTION SSH_CLIENT; do
        if (tmux show-environment | grep "^${key}" > /dev/null); then
            value=`tmux show-environment | grep "^${key}" | sed -e "s/^[A-Z_]*=//"`
            export ${key}="${value}"
        fi
    done
}

checkSSHAdd () {
    if [ "$(ssh-add -l)" = "The agent has no identities." ]
    then
        ssh-add
        ssh -t $1 "tmux new-session -s default || tmux attach-session -t default"
    else
        ssh -t $1 "tmux new-session -s default || tmux attach-session -t default"
    fi
}

alias fix="sudo service uwsgi2 restart && sudo service nginx restart"
alias dev="tmux attach || tmux new"
alias sshdev="checkSSHAdd mblalock.dev.hearsaylabs.com"
alias sshlatest="checkSSHAdd latest.dev.hearsaylabs.com"
alias sshops="checkSSHAdd ops.prod.pnw.hearsaylabs.com"
alias contacts="cd ~/projects/hearsay-contacts"
alias contacts-client="cd ~/projects/hearsay-contacts-client"
alias labs="cd ~/projects/HearsayLabs"
alias helm="cd ~/projects/hearsay-helm"
alias activities="cd ~/projects/hearsay-activities"
alias gs="git status"
alias gclean="git branch --merged master | grep -v '^[ *]*master$' | xargs git branch -D"
alias d="clear && git diff"
alias c="clear && git status"
